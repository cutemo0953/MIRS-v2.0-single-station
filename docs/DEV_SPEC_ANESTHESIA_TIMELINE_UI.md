# éº»é†‰ PWA æ™‚é–“è»¸ UI è¦æ ¼æ›¸

**ç‰ˆæœ¬**: v1.0
**æ—¥æœŸ**: 2026-01-07
**ç‹€æ…‹**: Draft

---

## 1. æ¦‚è¿°

### 1.1 ç¾æ³å•é¡Œ

ç›®å‰éº»é†‰ PWA çš„é‡Œç¨‹ç¢‘è¼¸å…¥éœ€è¦æ‰‹å‹•éµå…¥æ•¸å­—ï¼ˆåˆ†é˜ï¼‰ï¼Œèˆ‡å…¶ä»– PWA çš„æŒ‰éˆ•å¼æ“ä½œä¸ä¸€è‡´ï¼Œä½¿ç”¨è€…é«”é©—ä¸ä½³ã€‚

### 1.2 è¨­è¨ˆç›®æ¨™

- ä»¥ã€Œæ™‚é–“è»¸ã€ä½œç‚ºä¸»è¦ UI æ¶æ§‹
- é»æ“Šæ™‚é–“é»å¯é–‹å•Ÿæ¨¡æ…‹çª—è¼¸å…¥è©³ç´°è³‡è¨Š
- æ”¯æ´å®šæ™‚ Vital Signs è¨˜éŒ„
- ç¬¦åˆæ¨™æº–éº»é†‰è¨˜éŒ„å–®æ ¼å¼

---

## 2. UI æ¶æ§‹

### 2.1 æ™‚é–“è»¸ä¸»è¦–åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  éº»é†‰è¨˜éŒ„ - ç‹å¤§æ˜ (M/45) - è‚¡éª¨é ¸éª¨æŠ˜ ORIF             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ æ™‚é–“è»¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                    â”‚   â”‚
â”‚  â”‚  09:00 â—â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—â”€ NOW  â”‚   â”‚
â”‚  â”‚        â”‚      â”‚      â”‚      â”‚      â”‚      â”‚       â”‚   â”‚
â”‚  â”‚     å…¥OR   èª˜å°  åˆ‡çš®  ä¸»è¡“  ç¸«åˆ  é†’ä¾†         â”‚   â”‚
â”‚  â”‚                                                    â”‚   â”‚
â”‚  â”‚  [+5min] [+10min] [+15min] [+30min] [è‡ªè¨‚]        â”‚   â”‚
â”‚  â”‚                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ Vitals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HR â”‚ 72  78  82  85  80  76  74                  â”‚   â”‚
â”‚  â”‚  BP â”‚120/80  125/85  130/90  128/88  ...          â”‚   â”‚
â”‚  â”‚  SpO2â”‚ 99  99  98  99  99  99  98                 â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚  â”‚     09:00  09:15  09:30  09:45  10:00  10:15       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€ äº‹ä»¶ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  09:05 Propofol 150mg IV                          â”‚   â”‚
â”‚  â”‚  09:06 Fentanyl 100mcg IV                         â”‚   â”‚
â”‚  â”‚  09:08 Rocuronium 50mg IV                         â”‚   â”‚
â”‚  â”‚  09:10 Intubation ETT 7.5                         â”‚   â”‚
â”‚  â”‚  09:12 Sevoflurane 2% start                       â”‚   â”‚
â”‚  â”‚  ...                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  [è¨˜éŒ„ Vitals]  [è¨˜éŒ„ç”¨è—¥]  [è¨˜éŒ„äº‹ä»¶]  [é‡Œç¨‹ç¢‘]        â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ™‚é–“è»¸å…ƒä»¶çµæ§‹

```html
<!-- æ™‚é–“è»¸å®¹å™¨ -->
<div class="timeline-container">
    <!-- åˆ»åº¦è»¸ -->
    <div class="timeline-ruler">
        <!-- æ¯ 5 åˆ†é˜ä¸€å€‹åˆ»åº¦ -->
        <div class="tick" data-time="09:00">09:00</div>
        <div class="tick minor" data-time="09:05"></div>
        <div class="tick" data-time="09:10">09:10</div>
        ...
    </div>

    <!-- é‡Œç¨‹ç¢‘è»Œé“ -->
    <div class="timeline-track milestones">
        <div class="milestone" data-type="OR_IN" style="left: 0%">
            <span class="dot"></span>
            <span class="label">å…¥OR</span>
        </div>
        <div class="milestone" data-type="INDUCTION" style="left: 10%">
            <span class="dot"></span>
            <span class="label">èª˜å°</span>
        </div>
        ...
    </div>

    <!-- Vitals è»Œé“ -->
    <div class="timeline-track vitals">
        <svg class="vitals-chart">
            <!-- HR æŠ˜ç·š -->
            <polyline class="hr-line" points="..."/>
            <!-- BP ç¯„åœ -->
            <path class="bp-area" d="..."/>
        </svg>
    </div>

    <!-- äº‹ä»¶è»Œé“ -->
    <div class="timeline-track events">
        <div class="event" data-type="MEDICATION" style="left: 5%">
            <span class="icon">ğŸ’Š</span>
        </div>
        ...
    </div>

    <!-- ç•¶å‰æ™‚é–“æŒ‡ç¤ºå™¨ -->
    <div class="now-indicator"></div>
</div>
```

---

## 3. äº’å‹•è¨­è¨ˆ

### 3.1 é»æ“Šæ™‚é–“è»¸

**é»æ“Šç©ºç™½è™•** â†’ é–‹å•Ÿã€Œæ–°å¢äº‹ä»¶ã€æ¨¡æ…‹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–°å¢äº‹ä»¶ @ 09:23              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                â”‚
â”‚  æ™‚é–“: [09:23] [èª¿æ•´]          â”‚
â”‚                                â”‚
â”‚  é¡å‹:                         â”‚
â”‚  â—‹ é‡Œç¨‹ç¢‘  â—‹ ç”¨è—¥  â—‹ Vitals   â”‚
â”‚  â—‹ è™•ç½®    â—‹ å‚™è¨»              â”‚
â”‚                                â”‚
â”‚  [å–æ¶ˆ]           [ç¢ºèª]       â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 é»æ“Šå·²å­˜åœ¨çš„äº‹ä»¶

**é»æ“Šé‡Œç¨‹ç¢‘/äº‹ä»¶** â†’ é–‹å•Ÿã€Œç·¨è¼¯äº‹ä»¶ã€æ¨¡æ…‹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç·¨è¼¯: èª˜å° (INDUCTION)        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                â”‚
â”‚  æ™‚é–“: [09:08] [èª¿æ•´]          â”‚
â”‚                                â”‚
â”‚  å‚™è¨»:                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ RSI, smooth induction  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                â”‚
â”‚  [åˆªé™¤]  [å–æ¶ˆ]  [å„²å­˜]        â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å¿«é€Ÿæ–°å¢æŒ‰éˆ•

ç•«é¢åº•éƒ¨çš„å¿«é€Ÿæ“ä½œæŒ‰éˆ•ï¼š

| æŒ‰éˆ• | å‹•ä½œ |
|------|------|
| è¨˜éŒ„ Vitals | é–‹å•Ÿ Vitals è¼¸å…¥æ¨¡æ…‹çª— |
| è¨˜éŒ„ç”¨è—¥ | é–‹å•Ÿç”¨è—¥è¼¸å…¥æ¨¡æ…‹çª—ï¼ˆå«å¸¸ç”¨è—¥ç‰©å¿«é¸ï¼‰|
| è¨˜éŒ„äº‹ä»¶ | é–‹å•Ÿäº‹ä»¶è¼¸å…¥æ¨¡æ…‹çª— |
| é‡Œç¨‹ç¢‘ | é–‹å•Ÿé‡Œç¨‹ç¢‘å¿«é¸é¢æ¿ |

### 3.4 é‡Œç¨‹ç¢‘å¿«é¸é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¸æ“‡é‡Œç¨‹ç¢‘                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ å…¥OR â”‚  â”‚ èª˜å° â”‚  â”‚ åˆ‡çš® â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ä¸»è¡“ â”‚  â”‚ ç¸«åˆ â”‚  â”‚ é†’ä¾† â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ æ‹”ç®¡ â”‚  â”‚ å‡ºOR â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                      â”‚
â”‚  æ™‚é–“: [ç¾åœ¨] / [è‡ªè¨‚: ____]        â”‚
â”‚                                      â”‚
â”‚  [å–æ¶ˆ]                    [ç¢ºèª]    â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Vitals è¨˜éŒ„

### 4.1 Vitals è¼¸å…¥æ¨¡æ…‹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨˜éŒ„ Vitals @ 09:30               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                    â”‚
â”‚  HR:   [  78  ] bpm               â”‚
â”‚  BP:   [ 125 ]/[  82 ] mmHg       â”‚
â”‚  SpO2: [  99  ] %                 â”‚
â”‚  EtCO2:[  35  ] mmHg              â”‚
â”‚  Temp: [ 36.5 ] Â°C                â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€ å¿«é€Ÿè¼¸å…¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [+10] [-10] HR              â”‚    â”‚
â”‚  â”‚ [+10] [-10] SBP             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                    â”‚
â”‚  [å–æ¶ˆ]              [å„²å­˜]        â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è‡ªå‹•è¨˜éŒ„æé†’

å¯è¨­å®šæ¯ 5/10/15 åˆ†é˜æé†’è¨˜éŒ„ Vitalsï¼š

```javascript
// è¨­å®šè‡ªå‹•æé†’
vitalsReminderInterval: 15,  // åˆ†é˜
lastVitalsTime: null,

checkVitalsReminder() {
    if (this.lastVitalsTime) {
        const elapsed = (Date.now() - this.lastVitalsTime) / 60000;
        if (elapsed >= this.vitalsReminderInterval) {
            this.showVitalsReminder();
        }
    }
}
```

---

## 5. è³‡æ–™çµæ§‹

### 5.1 Event Sourcing æ•´åˆ

æ‰€æœ‰æ™‚é–“è»¸äº‹ä»¶éƒ½æ˜¯ `anesthesia_events` è¡¨çš„ä¸€éƒ¨åˆ†ï¼š

```sql
-- ç¾æœ‰ anesthesia_events è¡¨çµæ§‹
CREATE TABLE anesthesia_events (
    event_id INTEGER PRIMARY KEY AUTOINCREMENT,
    case_id TEXT NOT NULL,
    event_type TEXT NOT NULL,  -- è¦‹ä¸‹æ–¹é¡å‹
    event_time INTEGER NOT NULL,
    data TEXT,  -- JSON
    recorded_by TEXT,
    recorded_at INTEGER DEFAULT (strftime('%s', 'now'))
);
```

### 5.2 äº‹ä»¶é¡å‹

| event_type | èªªæ˜ | data å…§å®¹ |
|------------|------|-----------|
| `MILESTONE` | é‡Œç¨‹ç¢‘ | `{"type": "INDUCTION", "notes": "..."}` |
| `VITALS` | ç”Ÿå‘½å¾µè±¡ | `{"hr": 78, "sbp": 120, "dbp": 80, "spo2": 99, ...}` |
| `MEDICATION` | ç”¨è—¥ | `{"drug": "Propofol", "dose": 150, "unit": "mg", "route": "IV"}` |
| `PROCEDURE` | è™•ç½® | `{"type": "INTUBATION", "details": "ETT 7.5"}` |
| `NOTE` | å‚™è¨» | `{"text": "Patient movement"}` |
| `RESOURCE_CLAIM` | PSI ä½”ç”¨ | `{"psi_id": "...", "action": "claim"}` |

### 5.3 å‰ç«¯è³‡æ–™æ¨¡å‹

```javascript
timelineData: {
    case_id: 'ANES-20260107-001',
    start_time: '2026-01-07T09:00:00',

    milestones: [
        { type: 'OR_IN', time: '09:00', notes: '' },
        { type: 'INDUCTION', time: '09:08', notes: 'RSI' },
        // ...
    ],

    vitals: [
        { time: '09:00', hr: 72, sbp: 120, dbp: 80, spo2: 99 },
        { time: '09:15', hr: 78, sbp: 125, dbp: 85, spo2: 99 },
        // ...
    ],

    medications: [
        { time: '09:05', drug: 'Propofol', dose: 150, unit: 'mg', route: 'IV' },
        // ...
    ],

    events: [
        { time: '09:10', type: 'PROCEDURE', data: { type: 'INTUBATION', details: 'ETT 7.5' }},
        // ...
    ]
}
```

---

## 6. æ™‚é–“è»¸æ¸²æŸ“

### 6.1 åº§æ¨™è¨ˆç®—

```javascript
// å°‡æ™‚é–“è½‰æ›ç‚ºæ™‚é–“è»¸ä½ç½® (ç™¾åˆ†æ¯”)
timeToPosition(time) {
    const start = this.caseStartTime;
    const end = Date.now();
    const duration = end - start;
    const elapsed = time - start;
    return Math.min(100, Math.max(0, (elapsed / duration) * 100));
}

// å°‡ä½ç½®è½‰æ›ç‚ºæ™‚é–“
positionToTime(percent) {
    const start = this.caseStartTime;
    const end = Date.now();
    const duration = end - start;
    return new Date(start + (percent / 100) * duration);
}
```

### 6.2 ç¸®æ”¾èˆ‡æ»¾å‹•

```javascript
timelineZoom: 1,  // 1 = å…¨ç¨‹, 2 = æ”¾å¤§ 2x
timelineOffset: 0,  // æ»¾å‹•åç§»

zoomIn() {
    this.timelineZoom = Math.min(4, this.timelineZoom * 1.5);
},

zoomOut() {
    this.timelineZoom = Math.max(0.5, this.timelineZoom / 1.5);
}
```

### 6.3 æ‰‹å‹¢æ”¯æ´

- **é›™æŒ‡ç¸®æ”¾**: æ”¾å¤§/ç¸®å°æ™‚é–“è»¸
- **å–®æŒ‡æ»‘å‹•**: æ°´å¹³æ»¾å‹•
- **é•·æŒ‰**: é–‹å•Ÿå¿«é€Ÿæ–°å¢é¸å–®

---

## 7. Vitals åœ–è¡¨

### 7.1 SVG æŠ˜ç·šåœ–

```html
<svg class="vitals-chart" viewBox="0 0 100 60">
    <!-- HR æŠ˜ç·š (è—è‰²) -->
    <polyline
        class="hr-line"
        points="0,30 10,28 20,25 30,22 40,26 50,28"
        fill="none"
        stroke="#3b82f6"
        stroke-width="1"
    />

    <!-- BP ç¯„åœ (ç´…è‰²å€åŸŸ) -->
    <path
        class="bp-area"
        d="M0,20 L10,18 L20,15 ... L50,18 L50,35 L40,38 ... L0,35 Z"
        fill="rgba(239,68,68,0.2)"
        stroke="#ef4444"
    />

    <!-- SpO2 (ç¶ è‰²) -->
    <polyline
        class="spo2-line"
        points="0,5 10,5 20,6 30,5 40,5 50,6"
        fill="none"
        stroke="#10b981"
        stroke-width="1"
    />
</svg>
```

### 7.2 æ•¸å€¼æ¨™ç±¤

```javascript
// é¡¯ç¤ºé—œéµæ•¸å€¼
vitalsLabels: [
    { type: 'HR', y: 'top', color: '#3b82f6' },
    { type: 'BP', y: 'middle', color: '#ef4444' },
    { type: 'SpO2', y: 'bottom', color: '#10b981' }
]
```

---

## 8. æ¨™æº–é‡Œç¨‹ç¢‘

### 8.1 å…¨èº«éº»é†‰ (GA)

| é †åº | ä»£ç¢¼ | ä¸­æ–‡ | è‹±æ–‡ |
|:----:|------|------|------|
| 1 | OR_IN | å…¥OR | OR In |
| 2 | INDUCTION | èª˜å° | Induction |
| 3 | INTUBATION | æ’ç®¡ | Intubation |
| 4 | INCISION | åˆ‡çš® | Incision |
| 5 | MAIN_PROCEDURE | ä¸»è¡“ | Main Procedure |
| 6 | CLOSURE | ç¸«åˆ | Closure |
| 7 | EMERGENCE | é†’ä¾† | Emergence |
| 8 | EXTUBATION | æ‹”ç®¡ | Extubation |
| 9 | OR_OUT | å‡ºOR | OR Out |

### 8.2 å€åŸŸéº»é†‰ (RA)

| é †åº | ä»£ç¢¼ | ä¸­æ–‡ |
|:----:|------|------|
| 1 | OR_IN | å…¥OR |
| 2 | BLOCK_START | é–‹å§‹é˜»æ–· |
| 3 | BLOCK_COMPLETE | é˜»æ–·å®Œæˆ |
| 4 | INCISION | åˆ‡çš® |
| 5 | MAIN_PROCEDURE | ä¸»è¡“ |
| 6 | CLOSURE | ç¸«åˆ |
| 7 | OR_OUT | å‡ºOR |

---

## 9. CSS æ¨£å¼

```css
/* æ™‚é–“è»¸å®¹å™¨ */
.timeline-container {
    position: relative;
    width: 100%;
    height: 200px;
    overflow-x: auto;
    overflow-y: hidden;
}

/* åˆ»åº¦è»¸ */
.timeline-ruler {
    display: flex;
    height: 24px;
    border-bottom: 1px solid #e5e7eb;
}

.timeline-ruler .tick {
    position: absolute;
    font-size: 10px;
    color: #6b7280;
}

.timeline-ruler .tick.minor::before {
    content: '';
    position: absolute;
    bottom: 0;
    width: 1px;
    height: 4px;
    background: #d1d5db;
}

/* é‡Œç¨‹ç¢‘ */
.milestone {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
}

.milestone .dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #14b8a6;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.milestone .label {
    font-size: 10px;
    margin-top: 4px;
    white-space: nowrap;
}

/* äº‹ä»¶æ¨™è¨˜ */
.event {
    position: absolute;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    cursor: pointer;
}

/* ç•¶å‰æ™‚é–“æŒ‡ç¤ºå™¨ */
.now-indicator {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 2px;
    background: #ef4444;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}
```

---

## 10. å¯¦ä½œè¨ˆç•«

### Phase 1: åŸºç¤æ™‚é–“è»¸
1. æ™‚é–“è»¸å®¹å™¨ + åˆ»åº¦è»¸
2. é‡Œç¨‹ç¢‘é¡¯ç¤º
3. é»æ“Šé‡Œç¨‹ç¢‘ç·¨è¼¯

### Phase 2: äº‹ä»¶è¨˜éŒ„
1. æ–°å¢äº‹ä»¶æ¨¡æ…‹çª—
2. Vitals è¼¸å…¥æ¨¡æ…‹çª—
3. ç”¨è—¥è¼¸å…¥æ¨¡æ…‹çª—

### Phase 3: Vitals åœ–è¡¨
1. SVG æŠ˜ç·šåœ–æ¸²æŸ“
2. ç¸®æ”¾èˆ‡æ»¾å‹•
3. æ•¸å€¼æ¨™ç±¤

### Phase 4: é€²éšåŠŸèƒ½
1. æ‰‹å‹¢æ”¯æ´
2. è‡ªå‹• Vitals æé†’
3. åˆ—å°/åŒ¯å‡º

---

## 11. æœªæ±ºå•é¡Œ

- [ ] æ™‚é–“è»¸æ˜¯å¦éœ€è¦å‚ç›´æ¨¡å¼ï¼ˆæ‰‹æ©Ÿç›´å¼ï¼‰ï¼Ÿ
- [ ] Vitals ç•°å¸¸å€¼æ˜¯å¦è‡ªå‹•æ¨™ç´…ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦èªéŸ³è¼¸å…¥ï¼Ÿ
- [ ] é›¢ç·šæ™‚çš„æ™‚é–“åŒæ­¥ç­–ç•¥ï¼Ÿ

---

## Changelog

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´ |
|------|------|------|
| v1.0 | 2026-01-07 | åˆç‰ˆ |
